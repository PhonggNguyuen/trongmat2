<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch√∫c M·ª´ng 20/10</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            transition: background 10s ease-in-out;
        }

        body.dark {
            background: #1a1a2e; /* M√†u g·∫ßn ƒëen, gi·ªëng b·∫ßu tr·ªùi ƒë√™m */
        }

        .poem-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            max-width: 90%;
        }

        .poem {
            color: #33CC66; /* M√†u xanh l√° */
            font-size: 26px; /* K√≠ch th∆∞·ªõc ch·ªØ to */
            font-weight: 700; /* ƒê·∫≠m */
            line-height: 1.6;
            opacity: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap;
            background: #FF99FF; /* N·ªÅn h·ªìng ph·∫•n */
            padding: 10px 20px;
            border-radius: 8px;
        }

        .poem.show {
            opacity: 1;
            animation: popIn 1s ease-in-out forwards, fadeOut 1s ease-in-out 2s forwards;
        }

        @keyframes popIn {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }

        .falling-text {
            position: absolute;
            color: #ff1493;
            font-size: 24px;
            font-weight: bold;
            pointer-events: none;
            animation: fall linear infinite;
            white-space: nowrap;
            z-index: 5;
            transform: rotate(45deg); /* Nghi√™ng ch·ªØ 45 ƒë·ªô */
            opacity: 0;
        }

        .falling-text.show {
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }

        @keyframes fall {
            0% {
                transform: translate(-40vw, -100vh) rotate(45deg); /* B·∫Øt ƒë·∫ßu l·ªách m·∫°nh */
                opacity: 1;
            }
            100% {
                transform: translate(40vw, 100vh) rotate(45deg); /* K·∫øt th√∫c l·ªách m·∫°nh */
                opacity: 0;
            }
        }

        /* Kim tuy·∫øn l·∫•p l√°nh */
        .sparkle {
            position: absolute;
            background: radial-gradient(circle, #fff 10%, #ffeb3b 40%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 2; /* ƒê·∫∑t d∆∞·ªõi falling-text v√† c√°c th√†nh ph·∫ßn ch√≠nh */
            animation: sparkle 1.5s infinite, drift 5s linear forwards;
            opacity: 0;
        }

        .sparkle.show {
            opacity: 0.7;
            transition: opacity 0.3s ease-in-out;
        }

        @keyframes sparkle {
            0%, 100% { transform: scale(0.8); opacity: 0.7; }
            50% { transform: scale(1.3); opacity: 0.3; }
        }

        @keyframes drift {
            0% { transform: translate(0, 0); }
            100% { transform: translate(10px, 20px); } /* Di chuy·ªÉn nh·∫π ƒë·ªÉ gi·ªëng kim tuy·∫øn r∆°i */
        }

        /* Box cha ch·ª©a l·ªãch v√† ·∫£nh */
        .content-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px; /* TƒÉng chi·ªÅu r·ªông ƒë·ªÉ ch·ª©a c·∫£ hai box con */
            display: none;
            flex-direction: row;
            gap: 15px;
            z-index: 10;
        }

        .content-container.show {
            display: flex;
        }

        /* Box ·∫£nh (b√™n tr√°i) */
        .image-container {
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 5px; /* Gi·∫£m kho·∫£ng c√°ch gi·ªØa c√°c ·∫£nh */
            padding: 5px; /* Gi·∫£m padding ƒë·ªÉ ·∫£nh s√°t nhau h∆°n */
        }

        .image {
            opacity: 0;
            object-fit: contain; /* Gi·ªØ t·ª∑ l·ªá g·ªëc, kh√¥ng b√≥p m√©o */
            max-width: 100%; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông */
            max-height: 100%; /* Gi·ªõi h·∫°n chi·ªÅu cao */
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* B√≥ng ƒë·ªï cho ·∫£nh */
            animation: pulse 1.5s infinite ease-in-out; /* Rung ƒë·ªông theo nh·ªãp */
        }

        .image.show {
            opacity: 1;
            animation: popIn 1s ease-in-out forwards, pulse 1.5s infinite ease-in-out; /* Gi·ªØ rung ƒë·ªông khi hi·ªán */
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); } /* Rung nh·∫π ƒë·ªÉ gi·ªëng nh·ªãp nh·∫°c */
        }

        #image2 {
            grid-column: 1;
            grid-row: 1;
        }

        #image3 {
            grid-column: 2;
            grid-row: 1;
        }

        #image4 {
            grid-column: 1;
            grid-row: 2;
        }

        #image1 {
            grid-column: 2;
            grid-row: 2;
        }

        /* L·ªãch (b√™n ph·∫£i) */
        .calendar {
            width: 180px; /* Chi·ªÅu r·ªông c·ªë ƒë·ªãnh cho l·ªãch */
            background: #fff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            font-size: 14px;
        }

        .calendar h3 {
            margin: 0 0 10px;
            color: #ff1493;
            font-size: 18px;
        }

        .calendar table {
            border-collapse: collapse;
            width: 100%;
        }

        .calendar th, .calendar td {
            padding: 5px;
            width: 25px;
            height: 25px;
            text-align: center;
        }

        .calendar .highlight {
            background: #ff1493;
            color: #fff;
            font-weight: bold;
            border-radius: 50%;
        }

        /* Ch·ªØ ch√∫c m·ª´ng */
        .greeting {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff1493;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 10;
        }

        .greeting.show {
            display: block;
        }

        /* Ch·ªØ "Anh y√™u em!" */
        .love-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff0000; /* M√†u ƒë·ªè */
            font-size: 36px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 15;
            white-space: nowrap;
        }

        .love-message.show {
            display: block;
            animation: popIn 1s ease-in-out forwards;
        }

        /* Responsive cho mobile */
        @media (max-width: 768px) {
            .poem {
                font-size: 22px;
                padding: 8px 15px;
            }
            .falling-text {
                font-size: 20px;
            }
            .sparkle {
                width: 6px;
                height: 6px;
            }
            .content-container {
                width: 450px; /* Thu nh·ªè box cha */
                flex-direction: column; /* X·∫øp d·ªçc tr√™n tablet */
                gap: 10px;
            }
            .image-container {
                width: 300px;
                height: 300px;
                gap: 4px; /* Gi·∫£m kho·∫£ng c√°ch tr√™n tablet */
                padding: 4px;
            }
            .image {
                box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); /* B√≥ng nh·ªè h∆°n tr√™n tablet */
            }
            .calendar {
                width: 300px; /* L·ªãch r·ªông h∆°n tr√™n tablet */
                font-size: 12px;
                padding: 10px;
            }
            .calendar h3 {
                font-size: 16px;
            }
            .calendar th, .calendar td {
                width: 25px;
                height: 25px;
            }
            .greeting {
                font-size: 20px;
            }
            .love-message {
                font-size: 30px;
            }
        }

        @media (max-width: 480px) {
            .poem {
                font-size: 18px;
                line-height: 1.4;
                padding: 6px 12px;
            }
            .falling-text {
                font-size: 18px;
            }
            .sparkle {
                width: 4px;
                height: 4px;
            }
            .content-container {
                width: 250px; /* Thu nh·ªè h∆°n n·ªØa tr√™n mobile */
            }
            .image-container {
                width: 250px;
                height: 250px;
                gap: 3px; /* Gi·∫£m kho·∫£ng c√°ch tr√™n mobile */
                padding: 3px;
            }
            .image {
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* B√≥ng nh·ªè h∆°n tr√™n mobile */
            }
            .calendar {
                width: 250px;
                font-size: 10px;
                padding: 8px;
            }
            .calendar h3 {
                font-size: 14px;
            }
            .calendar th, .calendar td {
                width: 20px;
                height: 20px;
            }
            .greeting {
                font-size: 18px;
            }
            .love-message {
                font-size: 24px;
            }
        }

        /* ƒê·∫£m b·∫£o s·∫Øc n√©t tr√™n iPhone 12 (retina) */
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ·∫®n audio */
        audio {
            display: none;
        }
    </style>
</head>
<body>
    <audio id="background-music" autoplay>
        <source src="music.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th·∫ª audio.
    </audio>

    <div class="poem-container" id="poem-container">
        <div class="poem" id="line0">Hai m∆∞∆°i th√°ng m∆∞·ªùi v·ªÅ ƒë√¢y,</div>
        <div class="poem" id="line1">Ng·∫Øm em nh∆∞ n·∫Øng gi·ªØa ng√†y r·ª±c h·ªìng.</div>
        <div class="poem" id="line2">Phan Tr√† t·ª±a n∆∞·ªõc trong l√≤ng,</div>
        <div class="poem" id="line3">D·ªãu d√†ng nh·∫π nh√†ng m√† trong veo say.</div>
        <div class="poem" id="line4">T√¨nh anh g·ª≠i tr·ªçn t·ª´ng ng√†y,</div>
        <div class="poem" id="line5">Nh∆∞ tr√† th∆°m ng√°t, nh∆∞ d√¢y leo qu·∫•n.</div>
        <div class="poem" id="line6">Em l√† √°nh s√°ng ƒë·∫ßu g·∫ßn,</div>
        <div class="poem" id="line7">L√† hoa t∆∞∆°i th·∫Øm, l√† ph·∫ßn ƒë·ªùi anh.</div>
        <div class="poem" id="line8">Mong em m·ªâm c∆∞·ªùi r·∫°ng danh,</div>
        <div class="poem" id="line9">B√™n anh tr·ªçn ki·∫øp song h√†nh b·∫°c ƒë·∫ßu.</div>
        <div class="poem" id="line10">Y√™u em t·ª´ng gi√¢y t·ª´ng ph√∫t l√¢u,</div>
        <div class="poem" id="line11">Nh∆∞ tr√† ƒë∆∞·ª£m v·ªã, nh∆∞ c√¢u ca y√™u.</div>
    </div>

    <div class="content-container" id="content-container">
        <div class="image-container">
            <img src="anh2.jpg" class="image" id="image2">
            <img src="anh3.jpg" class="image" id="image3">
            <img src="anh4.jpg" class="image" id="image4">
            <img src="anh1.jpg" class="image" id="image1">
        </div>
        <div class="calendar">
            <h3>Th√°ng 10 - 2025</h3>
            <table>
                <tr>
                    <th>T2</th><th>T3</th><th>T4</th><th>T5</th><th>T6</th><th>T7</th><th>CN</th>
                </tr>
                <tr>
                    <td></td><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td>
                </tr>
                <tr>
                    <td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td>
                </tr>
                <tr>
                    <td>13</td><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td>
                </tr>
                <tr>
                    <td class="highlight">20</td><td>21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td>
                </tr>
                <tr>
                    <td>27</td><td>28</td><td>29</td><td>30</td><td>31</td><td></td><td></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="greeting" id="greeting">Ch√∫c em 20/10 vui v·∫ª!</div>
    <div class="love-message" id="love-message">Anh y√™u em!</div>

    <script>
        const lines = document.querySelectorAll('.poem');
        const images = document.querySelectorAll('.image');
        const contentContainer = document.getElementById('content-container');
        const poemContainer = document.getElementById('poem-container');
        const greeting = document.getElementById('greeting');
        const loveMessage = document.getElementById('love-message');
        const audio = document.getElementById('background-music');
        const messages = [
            'Happy Vietnam Women\'s Day! üíï',
            'October 20th - Your Day! üåπ',
            'Forever by your side! ‚ù§Ô∏è',
            'Love you so much! üòò',
            'Wishing you beauty always! ‚ú®',
            'Enjoy October 20th! üéâ',
            'You are my everything! üíñ',
            'Always shining, my love! üåü',
            'Be happy forever! üòä',
            'My heart is yours! üíû'
        ];

        let isPlaying = false;

        // Hi·ªÉn th·ªã t·ª´ng d√≤ng th∆° m·ªôt l·∫ßn duy nh·∫•t
        let currentLine = 0;
        function showNextLine() {
            if (currentLine < lines.length) {
                lines[currentLine].classList.add('show');
                currentLine++;
                setTimeout(showNextLine, 3000); // M·ªói d√≤ng hi·ªán 3 gi√¢y
            } else {
                // Sau khi th∆° k·∫øt th√∫c, hi·ªÉn th·ªã box cha, ch·ªØ ch√∫c m·ª´ng v√† b·∫Øt ƒë·∫ßu kim tuy·∫øn
                setTimeout(() => {
                    contentContainer.classList.add('show');
                    greeting.classList.add('show');
                    document.body.classList.add('dark'); // T·ªëi n·ªÅn
                    showNextImage();
                    startSparkles();
                }, 1000);
            }
        }

        // Hi·ªÉn th·ªã t·ª´ng ·∫£nh l·∫ßn l∆∞·ª£t, kh√¥ng bi·∫øn m·∫•t
        let currentImage = 0;
        function showNextImage() {
            if (currentImage < images.length) {
                images[currentImage].classList.add('show');
                currentImage++;
                setTimeout(showNextImage, 3000); // M·ªói ·∫£nh hi·ªán 3 gi√¢y
            }
        }

        // B·∫Øt ƒë·∫ßu hi·ªÉn th·ªã d√≤ng th∆° ƒë·∫ßu ti√™n sau 1 gi√¢y
        function startPoem() {
            currentLine = 0;
            currentImage = 0;
            setTimeout(showNextLine, 1000);
        }

        // T·∫°o falling texts
        function createFallingText() {
            const text = messages[Math.floor(Math.random() * messages.length)];
            const fallingText = document.createElement('div');
            fallingText.className = 'falling-text';
            fallingText.textContent = text;
            const startX = (Math.random() * 80 - 40) + 'vw'; // T·ª´ -40vw ƒë·∫øn 40vw
            const startY = (Math.random() * 200 - 100) + 'vh'; // T·ª´ -100vh ƒë·∫øn 100vh
            fallingText.style.left = `calc(50% + ${startX})`;
            fallingText.style.top = `calc(${startY})`;
            fallingText.style.animationDuration = (Math.random() * 4 + 3) + 's';
            fallingText.style.fontSize = (Math.random() * 10 + 20) + 'px';
            document.body.appendChild(fallingText);

            // Hi·ªÉn th·ªã d·∫ßn khi kh√¥ng b·ªã ƒë√®
            setTimeout(() => {
                fallingText.classList.add('show');
            }, 100);

            // X√≥a sau khi animation k·∫øt th√∫c
            setTimeout(() => {
                fallingText.remove();
            }, 7000);
        }

        // T·∫°o kim tuy·∫øn l·∫•p l√°nh
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            const size = Math.random() * 5 + 3; // K√≠ch th∆∞·ªõc t·ª´ 3px ƒë·∫øn 8px
            sparkle.style.width = `${size}px`;
            sparkle.style.height = `${size}px`;
            sparkle.style.left = `${Math.random() * 100}vw`; // V·ªã tr√≠ ng·∫´u nhi√™n
            sparkle.style.top = `${Math.random() * 100}vh`;
            sparkle.style.animationDuration = `${Math.random() * 1 + 1}s`; // Th·ªùi gian nh·∫•p nh√°y 1-2s
            document.body.appendChild(sparkle);

            // Hi·ªÉn th·ªã kim tuy·∫øn
            setTimeout(() => {
                sparkle.classList.add('show');
            }, 100);

            // X√≥a sau 5 gi√¢y
            setTimeout(() => {
                sparkle.remove();
            }, 5000);
        }

        // T·∫°o falling text v√† kim tuy·∫øn
        function startFallingText() {
            createFallingText();
            setTimeout(startFallingText, 200); // M·ªói 0.2 gi√¢y
        }

        function startSparkles() {
            createSparkle();
            createSparkle();
            createSparkle();
            createSparkle(); // T·∫°o 4 kim tuy·∫øn m·ªói l·∫ßn ƒë·ªÉ r·∫•t d√†y
            setTimeout(startSparkles, 100); // M·ªói 0.1 gi√¢y
        }

        // Reset trang
        function resetPage() {
            // ·∫®n t·∫•t c·∫£
            document.body.style.opacity = '0';
            contentContainer.classList.remove('show');
            greeting.classList.remove('show');
            loveMessage.classList.remove('show');
            document.body.classList.remove('dark');
            lines.forEach(line => line.classList.remove('show'));
            images.forEach(image => image.classList.remove('show'));
            document.querySelectorAll('.sparkle, .falling-text').forEach(el => el.remove());

            // Reset tr·∫°ng th√°i
            currentLine = 0;
            currentImage = 0;

            // Kh√¥i ph·ª•c n·ªÅn v√† hi·ªÉn th·ªã l·∫°i
            setTimeout(() => {
                document.body.style.opacity = '1';
                document.body.style.background = 'linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)';
                startPoem();
            }, 1000);
        }

        // Khi nh·∫°c k·∫øt th√∫c
        audio.addEventListener('ended', () => {
            document.body.style.opacity = '0';
            setTimeout(() => {
                contentContainer.classList.remove('show');
                greeting.classList.remove('show');
                document.querySelectorAll('.sparkle, .falling-text').forEach(el => el.remove());
                loveMessage.classList.add('show');
                document.body.style.opacity = '1';
                setTimeout(() => {
                    loveMessage.classList.remove('show');
                    resetPage();
                    audio.play().catch(err => console.log('L·ªói ph√°t nh·∫°c:', err));
                }, 3000); // Hi·ªÉn th·ªã "Anh y√™u em!" trong 3 gi√¢y
            }, 500);
        });

        // B·∫Øt ƒë·∫ßu falling text ngay t·ª´ ƒë·∫ßu
        startFallingText();

        // X·ª≠ l√Ω autoplay cho m√°y t√≠nh v√† mobile
        audio.volume = 0.5; // ƒê·∫∑t √¢m l∆∞·ª£ng m·∫∑c ƒë·ªãnh l√† 50%
        audio.play().catch(error => {
            console.log('Autoplay b·ªã ch·∫∑n:', error);
            document.addEventListener('click', () => {
                if (audio.paused && !isPlaying) {
                    isPlaying = true;
                    audio.play().catch(err => console.log('L·ªói ph√°t nh·∫°c:', err));
                    startPoem();
                }
            }, { once: true });
            document.addEventListener('touchstart', () => {
                if (audio.paused && !isPlaying) {
                    isPlaying = true;
                    audio.play().catch(err => console.log('L·ªói ph√°t nh·∫°c:', err));
                    startPoem();
                }
            }, { once: true });
        });

        // B·∫Øt ƒë·∫ßu b√†i th∆° n·∫øu nh·∫°c ch·∫°y
        if (!audio.paused) {
            isPlaying = true;
            startPoem();
        }
    </script>
</body>
</html>